{% extends 'base.html.twig' %}

{% block body_id 'crud_show' %}

{% block main %}
    <h1>{{ subelement.title }}</h1>
    <p class="element-metadata">
        <span class="metadata"><i class="fa fa-calendar-o"></i> {{ subelement.publishedAt|format_datetime('long', 'medium', '', 'UTC') }}</span>
        <br/>
        <span class="metadata"><i class="fa fa-user-circle-o"></i> {{ subelement.author.fullName }}</span>
    </p>
    {{ subelement.content|markdown_to_html|sanitize_html }}

    <div>
        <a href="{{ path('crud_element', {slug: slugElement}) }}" class="btn btn-link">
            <i class="fa fa-backward" aria-hidden="true"></i> {{ 'action.back'|trans }}
        </a>
    </div>


    <hr/>

    <div class="row">
        <div class="col-md-4 col-md-offset-2">
            <h3>
                <i class="fa fa-subelements" aria-hidden="true"></i> {{ 'element.num_subelements'|trans({ 'count': subelement.textfields|length }) }}
            </h3>
        </div>
    </div>

    <table class="table table-striped table-middle-aligned">
        <thead>
            <tr>
                <th scope="col">{{ 'label.title'|trans }}</th>
                <th scope="col" class="text-center"><i class="fa fa-cog" aria-hidden="true"></i> {{ 'label.actions'|trans }}</th>
            </tr>
        </thead>
        <tbody>
            {% for textfield in subelement.textfields %}
                <tr>
                    <td>{{ textfield.title }}</td>
                    <td class="text-center">
                        <div class="item-actions">
                            <a href="{{ path('crud_index') }}" class="btn btn-sm btn-default">
                                <i class="fa fa-eye" aria-hidden="true"></i> {{ 'action.show'|trans }}
                            </a>

                            <a href="{{ path('crud_index') }}" class="btn btn-sm btn-primary">
                                <i class="fa fa-pencil" aria-hidden="true"></i> {{ 'action.edit'|trans }}
                            </a>
                        </div>
                    </td>
                </tr>
            {% else %}
                <tr>
                    <td colspan="4" align="center">{{ 'element.no_subelements'|trans }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>



{% endblock %}




{% block sidebar %}

    <div class="section">
        <a href="{{ path('subelement_edit', {id: subelement.id}) }}" class="btn btn-lg btn-block btn-success">
            <i class="fa fa-edit" aria-hidden="true"></i> {{ 'action.edit'|trans }}
        </a>
    </div>
    
    <div class="section">
        {{ include('crud/subelement/_subelement_delete_form.html.twig', {subelement: subelement}, with_context = false) }}
    </div>

    {{ parent() }}

    {{ show_source_code(_self) }}
{% endblock %}
